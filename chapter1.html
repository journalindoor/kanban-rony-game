<!doctype html>
<html lang="pt-BR">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>Cap√≠tulo 1: Sobreviva √† Sprint - RonyOffice</title>
		<!-- CSS imports in cascading order -->
		<link rel="stylesheet" href="css/base.css">
		<link rel="stylesheet" href="css/layout.css">
		<link rel="stylesheet" href="css/top-controls.css">
		<link rel="stylesheet" href="css/status-bar.css">
		<link rel="stylesheet" href="css/board.css">
		<link rel="stylesheet" href="css/components.css">
		<link rel="stylesheet" href="css/office-panel.css">
		<link rel="stylesheet" href="css/modal.css">
		<link rel="stylesheet" href="css/column-info-modal.css">
		<link rel="stylesheet" href="css/role-states.css">
		<link rel="stylesheet" href="css/celebration.css">
	</head>
	<body>

    <div class="game-layout">
      <div class="container">
			<h1><a href="index.html" style="color: inherit; text-decoration: none;">RonyOffice</a> <span class="chapter-badge">Cap√≠tulo 1</span></h1>
			<!-- Status bar for day counter and future metrics -->
			<div class="status-bar">
				<div class="status-left">
					<div class="status-metrics">
						<div class="metric">
							<span class="metric-label">Dias passados</span>
							<span class="metric-value" id="dayCounter">0</span>
						</div>
						<div class="metric">
							<span class="metric-label">Dinheiro</span>
							<span class="metric-value" id="moneyCounter">$0</span>
						</div>
					</div>
					<!-- Roles area -->
					<div class="roles-area" id="rolesArea">
						<div class="role" data-role="Analista 1" id="role-analista-1">Azul<br>Rony</div>
						<div class="role" data-role="Analista 2" id="role-analista-2">Azul<br>Analista 2</div>
						<div class="role" data-role="Analista 3" id="role-analista-3">Azul<br>Analista 3</div>
						<div class="role" data-role="Programador 1" id="role-programador-1">Verde<br>Rony</div>
						<div class="role" data-role="Programador 2" id="role-programador-2">Verde<br>Programador 2</div>
						<div class="role" data-role="Programador 3" id="role-programador-3">Verde<br>Programador 3</div>
						<div class="role" data-role="QA/Tester 1" id="role-qa-1">Amarelo<br>Rony</div>
						<div class="role" data-role="QA/Tester 2" id="role-qa-2">Amarelo<br>QA/Tester 2</div>
						<div class="role" data-role="QA/Tester 3" id="role-qa-3">Amarelo<br>QA/Tester 3</div>
					</div>
				</div>
				<div class="status-actions">
					<button class="metric-button" disabled title="Em breve">Cicle time</button>
					<button class="metric-button" disabled title="Em breve">WIP</button>
					<button class="metric-button" disabled title="Em breve">Throughput</button>
				</div>
			</div>
			
			<!-- Main Content Area: Board + Office Panel -->
			<div class="main-content">
				<!-- Kanban Board -->
				<div class="board" id="board">
				<div class="column" data-col="Backlog">
				<div class="column-header">
					Backlog
					<span class="wip-counter" data-counter-col="Backlog">0/5</span>
				</div>
				<div class="cards" data-col="Backlog"></div>
			</div>

			<div class="column" data-col="Refinamento">
				<div class="column-header">
					Refinamento
					<span class="wip-counter" data-counter-col="Refinamento">0/‚àû</span>
				</div>
				<div class="cards" data-col="Refinamento"></div>
			</div>

			<div class="column" data-col="SprintBacklog">
				<div class="column-header">
					SprintBacklog
					<span class="wip-counter" data-counter-col="SprintBacklog">0/‚àû</span>
				</div>
				<div class="cards" data-col="SprintBacklog"></div>
			</div>

			<div class="column" data-col="Fazendo">
				<div class="column-header">
					Fazendo
					<span class="wip-counter" data-counter-col="Fazendo">0/‚àû</span>
				</div>
				<div class="cards" data-col="Fazendo"></div>
			</div>

			<div class="column" data-col="Homologando">
				<div class="column-header">
					Homologando
					<span class="wip-counter" data-counter-col="Homologando">0/‚àû</span>
				</div>
				<div class="cards" data-col="Homologando"></div>
			</div>

			<div class="column" data-col="Ajustes">
				<div class="column-header">
					Ajustes
					<span class="wip-counter" data-counter-col="Ajustes">0/‚àû</span>
				</div>
				<div class="cards" data-col="Ajustes"></div>
			</div>

			<div class="column" data-col="Publicado">
				<div class="column-header">
					Publicado
					<span class="wip-counter" data-counter-col="Publicado">0/‚àû</span>
				</div>
				<div class="cards" data-col="Publicado"></div>
			</div>

			<!-- Arquivados column (hidden by default) -->
			<div class="column archived-column archived-hidden" data-col="Arquivados">
				<div class="column-header">
					Arquivados
					<span class="wip-counter" data-counter-col="Arquivados">0/‚àû</span>
				</div>
				<div class="cards" data-col="Arquivados"></div>
			</div>
			</div>
			
			<!-- Office Panel - Pixel Art Workspace -->
			<div class="office-panel" id="officePanel">
				<div class="office-header">
					<h2 class="office-title">RonyOffice</h2>
				</div>
				
				<!-- Top controls integrated into office panel -->
				<div class="top-controls">
				<button id="startButton" class="start-button">‚ñ∂Ô∏è Iniciar</button>
				<button id="resetButton" class="reset-button">üîÑ Reiniciar</button>
				
				<div class="dropdown-menu">
					<button class="dropdown-toggle">‚ò∞</button>
					<div class="dropdown-content">
						<button class="dropdown-item" onclick="window.location.href='manual.html'">üìñ Manual</button>
						<button class="dropdown-item" onclick="window.location.href='tutorial.html'">üéì Tutorial</button>
						<button class="dropdown-item" id="backToFreeModeButton">üéÆ Modo Livre</button>
						<button class="dropdown-item" id="goToChapter2Button" disabled title="Em desenvolvimento">üìù Cap√≠tulo 2 (Em breve)</button>
					</div>
				</div>
			</div>
			<div class="office-viewport">
				<!-- Grid de Videochamada 3x3 -->
				<div class="video-grid">
					<!-- Fileira 1: Analistas -->
					<div class="video-row" data-role-type="Analista">
						<div class="video-tile" data-character-id="analista-1">
							<div class="tile-sprite"></div>
							<div class="tile-info">
							<div class="info-name">Rony</div>
						<div class="info-role">Analista 1</div>

							</div>
						</div>
						<div class="video-tile" data-character-id="analista-2">
							<div class="tile-sprite"></div>
							<div class="tile-info">
							<div class="info-name">Rony</div>
						<div class="info-role">Analista 2</div>

							</div>
						</div>
						<div class="video-tile" data-character-id="analista-3">
							<div class="tile-sprite"></div>
							<div class="tile-info">
							<div class="info-name">Rony</div>
						<div class="info-role">Analista 3</div>

							</div>
						</div>
					</div>
					
					<!-- Fileira 2: Programadores -->
					<div class="video-row" data-role-type="Programador">
						<div class="video-tile" data-character-id="programador-1">
							<div class="tile-sprite"></div>
							<div class="tile-info">
							<div class="info-name">Rony</div>
						<div class="info-role">Programador 1</div>

							</div>
						</div>
						<div class="video-tile" data-character-id="programador-2">
							<div class="tile-sprite"></div>
							<div class="tile-info">
							<div class="info-name">Rony</div>
						<div class="info-role">Programador 2</div>

							</div>
						</div>
						<div class="video-tile" data-character-id="programador-3">
							<div class="tile-sprite"></div>
							<div class="tile-info">
							<div class="info-name">Rony</div>
						<div class="info-role">Programador 3</div>

							</div>
						</div>
					</div>
					
					<!-- Fileira 3: QAs -->
					<div class="video-row" data-role-type="QA/Tester">
						<div class="video-tile" data-character-id="qa-1">
							<div class="tile-sprite"></div>
							<div class="tile-info">
							<div class="info-name">Rony</div>
						<div class="info-role">QA/Tester 1</div>

							</div>
						</div>
						<div class="video-tile" data-character-id="qa-2">
							<div class="tile-sprite"></div>
							<div class="tile-info">
							<div class="info-name">Rony</div>
						<div class="info-role">QA/Tester 2</div>

							</div>
						</div>
						<div class="video-tile" data-character-id="qa-3">
							<div class="tile-sprite"></div>
							<div class="tile-info">
							<div class="info-name">Rony</div>
						<div class="info-role">QA/Tester 3</div>

							</div>
						</div>
					</div>
				</div>
			</div>
				
			<!-- Office Footer (extensible for future features) -->
			<div class="office-footer">
				<div class="office-status">
					<span class="status-text">Time em repouso</span>
				</div>
			</div>
		</div><!-- .office-panel -->
		</div><!-- .main-content -->
		</div><!-- .container -->

		<!-- Chapter Welcome Modal -->
		<div id="chapterWelcomeModal" class="modal-overlay" style="display:none;">
			<div class="modal-content">
				<div class="modal-header">
					<h2>üéØ Cap√≠tulo 1: Sobreviva √† Sprint</h2>
				</div>
				<div class="modal-body" style="display:flex; flex-direction:column; gap:20px;">
					<!-- √Årea superior: Sprite + Mensagens -->
					<div style="display:flex; gap:20px; align-items:center;">
						<div class="modal-character" style="flex:0 0 120px; display:flex; justify-content:center; align-items:center;">
							<div style="width:120px; height:120px; background-image:url('assets/rony-modal.png'); background-size:360px 240px; background-position:-100px -120px; background-repeat:no-repeat;"></div>
						</div>
						<div style="flex:1;">
							<p class="modal-message">Bem-vindo ao primeiro desafio!</p>
							<p class="modal-subtitle">Este cap√≠tulo √© sobre aprender o b√°sico do fluxo ‚Äî sem atalhos.</p>
						</div>
					</div>
					<!-- √Årea inferior: Stats -->
					<div class="modal-stats">
						<div class="stat-item">
							<span class="stat-label">üéØ Meta:</span>
							<span class="stat-value" style="color:#10b981; font-weight:700; font-size:20px;">$1000</span>
						</div>
						<div class="stat-item" style="border:none; padding-top:0;">
							<p style="margin:0; font-size:14px; color:#6b7280; text-align:left; line-height:1.6;">
								Acumule <strong>$1000</strong> entregando cards e mantendo o fluxo saud√°vel.<br><br>
								<strong>Personagens dispon√≠veis:</strong> Neste in√≠cio, apenas os primeiros personagens de cada fun√ß√£o.<br><br>
								O time come√ßa pequeno e evolui com o passar dos dias.<br><br>
								Aprenda a colaborar, priorizar e decidir bem.
							</p>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button id="startChapterBtn" class="modal-btn modal-btn-primary">Come√ßar Cap√≠tulo 1</button>
				</div>
			</div>
		</div>

		<!-- Chapter Transition Modal -->
		<div id="chapterTransitionModal" class="modal-overlay" style="display:none;">
			<div class="modal-content">
				<div class="modal-header">
					<h2>üéâ Parab√©ns!</h2>
				</div>
			<div class="modal-body" style="display:flex; flex-direction:column; gap:20px;">
				<!-- √Årea superior: Sprite + Mensagens -->
				<div style="display:flex; gap:20px; align-items:center;">
					<div class="modal-character" style="flex:0 0 120px; display:flex; justify-content:center; align-items:center;">
						<div style="width:120px; height:120px; background-image:url('assets/rony-modal.png'); background-size:360px 240px; background-position:-120px 0; background-repeat:no-repeat;"></div>
					</div>
					<div style="flex:1;">
						<p class="modal-message">Voc√™ acumulou <strong>$1000</strong> e completou o Cap√≠tulo 1!</p>
						<p class="modal-subtitle">Deseja prosseguir para o pr√≥ximo cap√≠tulo?</p>
					</div>
				</div>
				<!-- √Årea inferior: Stats -->
				<div class="modal-stats">
					<div class="stat-item">
						<span class="stat-label">Dias passados:</span>
						<span class="stat-value" id="modalDays">0</span>
					</div>
					<div class="stat-item">
						<span class="stat-label">Dinheiro acumulado:</span>
						<span class="stat-value" id="modalMoney">$0</span>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button id="continueChapterBtn" class="modal-btn modal-btn-primary">Prosseguir para Cap√≠tulo 2</button>
					<button id="stayChapterBtn" class="modal-btn modal-btn-secondary">Continuar no Cap√≠tulo 1</button>
				</div>
			</div>
		</div>

		<!-- Unlock Modal 1: Analista N√≠vel 2 (R$200) -->
		<div id="unlockModal1" class="modal-overlay" style="display:none;">
			<div class="modal-content">
				<div class="modal-header">
					<h2>üßæ Contrata√ß√£o Estrat√©gica Aprovada</h2>
				</div>
				<div class="modal-body" style="display:flex; flex-direction:column; gap:20px;">
					<!-- √Årea superior: Sprite + Mensagens -->
					<div style="display:flex; gap:20px; align-items:center;">
						<div class="modal-character" style="flex:0 0 120px; display:flex; justify-content:center; align-items:center;">
							<div style="width:120px; height:120px; background-image:url('assets/rony-modal.png'); background-size:360px 240px; background-position:0 -120px; background-repeat:no-repeat;"></div>
						</div>
						<div style="flex:1;">
							<p class="modal-message">Precisamos de algu√©m pra explicar o plano</p>
							<p class="modal-subtitle">Improviso funciona‚Ä¶ at√© virar sucesso.</p>
						</div>
					</div>
					<!-- √Årea inferior: Conte√∫do narrativo -->
					<div class="modal-stats" style="border:none; padding:15px 0;">
						<div style="text-align:left; line-height:1.7;">
							<p>Com <strong>R$150</strong> em caixa, o RH contratou algu√©m.</p>
							<p>Encontramos mais um: <strong>Rony, Analista Pleno</strong>.</p>
							<p>Habilidade especial: explicar o √≥bvio com confian√ßa.</p>
							<p style="margin-top:20px; font-style:italic; color:#6b7280;">
								Agora algu√©m pode dizer oficialmente:<br>
								<em>"Isso n√£o √© prioridade‚Ä¶ ainda."</em>
							</p>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button class="modal-btn modal-btn-primary unlock-close-btn">Continuar</button>
				</div>
			</div>
		</div>

		<!-- Unlock Modal 2: Programador N√≠vel 2 (R$400) -->
		<div id="unlockModal2" class="modal-overlay" style="display:none;">
			<div class="modal-content">
				<div class="modal-header">
					<h2>üíª Novo Commit no Time</h2>
				</div>
				<div class="modal-body" style="display:flex; flex-direction:column; gap:20px;">
					<!-- √Årea superior: Sprite + Mensagens -->
					<div style="display:flex; gap:20px; align-items:center;">
						<div class="modal-character" style="flex:0 0 120px; display:flex; justify-content:center; align-items:center;">
							<div style="width:120px; height:120px; background-image:url('assets/rony-modal.png'); background-size:360px 240px; background-position:0 -120px; background-repeat:no-repeat;"></div>
						</div>
						<div style="flex:1;">
							<p class="modal-message">Agora algu√©m precisa fazer funcionar</p>
							<p class="modal-subtitle">Ideia boa s√≥ vira c√≥digo depois do caf√©.</p>
						</div>
					</div>
					<!-- √Årea inferior: Conte√∫do narrativo -->
					<div class="modal-stats" style="border:none; padding:15px 0;">
						<div style="text-align:left; line-height:1.7;">
							<p>Com <strong>R$350</strong> em caixa, algu√©m perguntou: "j√° d√° pra subir isso?"</p>
							<p>Contratamos ele: <strong>Rony, o Programador</strong>.</p>
							<p>Habilidade especial: transformar ideia em bug‚Ä¶ e depois em solu√ß√£o.</p>
							<p style="margin-top:20px; font-style:italic; color:#6b7280;">
								Agora algu√©m pode dizer oficialmente:<br>
								<em>"Na minha m√°quina funciona."</em>
							</p>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button class="modal-btn modal-btn-primary unlock-close-btn">Continuar</button>
				</div>
			</div>
		</div>

		<!-- Unlock Modal 3: QA N√≠vel 2 (R$600) -->
		<div id="unlockModal3" class="modal-overlay" style="display:none;">
			<div class="modal-content">
				<div class="modal-header">
					<h2>üß™ Qualidade Entrou em Cena</h2>
				</div>
				<div class="modal-body" style="display:flex; flex-direction:column; gap:20px;">
					<!-- √Årea superior: Sprite + Mensagens -->
					<div style="display:flex; gap:20px; align-items:center;">
						<div class="modal-character" style="flex:0 0 120px; display:flex; justify-content:center; align-items:center;">
							<div style="width:120px; height:120px; background-image:url('assets/rony-modal.png'); background-size:360px 240px; background-position:0 -120px; background-repeat:no-repeat;"></div>
						</div>
						<div style="flex:1;">
							<p class="modal-message">Algu√©m desconfiou que estava f√°cil demais</p>
							<p class="modal-subtitle">Funcionar n√£o √© o mesmo que funcionar direito.</p>
						</div>
					</div>
					<!-- √Årea inferior: Conte√∫do narrativo -->
					<div class="modal-stats" style="border:none; padding:15px 0;">
						<div style="text-align:left; line-height:1.7;">
							<p>Com <strong>R$600</strong> em caixa, surgiu a d√∫vida proibida: "isso t√° certo?"</p>
							<p>Encontramos mais um: <strong>Rony, QA</strong>.</p>
							<p>Habilidade especial: clicar exatamente onde n√£o devia.</p>
							<p style="margin-top:20px; font-style:italic; color:#6b7280;">
								Agora algu√©m pode dizer oficialmente:<br>
								<em>"Achei um detalhe pequeno aqui‚Ä¶"</em>
							</p>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button class="modal-btn modal-btn-primary unlock-close-btn">Continuar</button>
				</div>
			</div>
		</div>

		<!-- Game Footer -->
		<footer class="game-footer">
			<div class="footer-content">
				<div class="footer-info">
					<span class="footer-version">Vers√£o 1.0.0 - Cap√≠tulo 1</span>
					<span class="footer-separator">|</span>
					<span class="footer-author">Criado por Rony</span>
					<span class="footer-separator">|</span>
					<a href="https://www.linkedin.com/in/ronaldojr/" target="_blank" class="footer-linkedin" rel="noopener noreferrer">LinkedIn</a>
				</div>
				<div class="footer-date">
					<span>¬© 2025</span>
				</div>
			</div>
		</footer>

		<script src="src/storage.js" defer></script>
		<script src="data/chapter-1-cards.js"></script>
		<script src="src/cardBankManager.js" defer></script>
		<script src="src/officeCharacters.js" defer></script>
		<script src="src/celebration.js" defer></script>
		<script src="src/cards.js" defer></script>
		<script src="src/dragdrop.js" defer></script>
		<script src="src/movementRules.js" defer></script>
		<script src="src/adjustmentsRules.js" defer></script>
		<script src="src/roles.js" defer></script>
		<script src="src/roleModel.js" defer></script>
		<script src="src/gameLogic.js" defer></script>
		<script src="src/backlogRules.js" defer></script>
		<script src="src/progressionRules.js" defer></script>
		<script src="src/officeStatusMessages.js" defer></script>
		<script src="src/columnInfo.js" defer></script>
		<script src="src/unlockSystem.js" defer></script>
		<script src="src/main.js" defer></script>
		<script src="src/chapterManager.js" defer></script>
	
	<!-- Column Info Modal HTML -->
	<div id="columnInfoModal" class="column-info-modal">
		<div class="column-info-modal-content">
			<div class="column-info-header">
				<div class="column-info-sprite"></div>
				<h2 class="column-info-title"></h2>
				<button class="column-info-close" title="Fechar">√ó</button>
			</div>
			<div class="column-info-body">
				<div class="column-info-section">
					<h3>O que √©?</h3>
					<p class="column-info-description"></p>
				</div>
				<div class="column-info-section">
					<h3>Como funciona?</h3>
					<p class="column-info-mechanics"></p>
				</div>
				<div class="column-info-section">
					<h3>B√¥nus de Felicidade</h3>
					<ul class="column-info-happiness-list"></ul>
				</div>
				<div class="column-info-section">
					<p class="column-info-tip"></p>
				</div>
			</div>
		</div>
	</div>

	<!-- Dropdown menu functionality -->
	<script>
		document.addEventListener('DOMContentLoaded', function(){
			const dropdownToggle = document.querySelector('.dropdown-toggle');
			const dropdownContent = document.querySelector('.dropdown-content');
			
			if(dropdownToggle && dropdownContent){
				dropdownToggle.addEventListener('click', function(e){
					e.stopPropagation();
					dropdownContent.classList.toggle('show');
				});
				
				document.addEventListener('click', function(e){
					if(!e.target.closest('.dropdown-menu')){
						dropdownContent.classList.remove('show');
					}
				});
				
				const dropdownItems = dropdownContent.querySelectorAll('.dropdown-item');
				dropdownItems.forEach(item => {
					item.addEventListener('click', function(){
						dropdownContent.classList.remove('show');
					});
				});
			}
		});
	</script>
