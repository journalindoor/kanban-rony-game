:root{--gap:16px;--col-bg:#f4f6f8;--card-bg:#fff;--accent:#2b8aef}
html,body{
  height:100%;
  margin:0;
  font-family:Inter,Segoe UI,Helvetica,Arial,sans-serif;
  background:#eef2f5;
}

body{
  display:flex;
  flex-direction:column;
  height:100vh;
  overflow:hidden;
}

.container{
  padding:18px;
  height:100%;
  box-sizing:border-box;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

/* Main content area: horizontal layout for board + office panel */
.main-content{
  display:flex;
  gap:16px;
  flex:1;
  min-height:0;
  overflow:hidden;
}

h1{margin:0 0 12px 0;font-size:20px}
.board{
  display:flex;
  gap:var(--gap);
  align-items:flex-start;
  flex:1;
  height:100%;
  overflow-x:auto;
  overflow-y:auto;
  padding-bottom:8px;
}

.column{background:var(--col-bg);border-radius:8px;padding:12px;min-width:240px;max-width:320px;display:flex;flex-direction:column;box-shadow:0 1px 0 rgba(0,0,0,0.04)}
.column-header{font-weight:700;margin-bottom:8px;color:#111}
.cards{flex:1;min-height:120px;padding:6px;overflow:auto}
.card{background:var(--card-bg);padding:10px;margin-bottom:8px;border-radius:6px;box-shadow:0 1px 4px rgba(16,24,40,0.06);cursor:grab;display:flex;flex-direction:column}
.card.has-role{background:#e0ecff;outline:2px solid rgba(43,138,239,0.25);box-shadow:0 2px 8px rgba(43,138,239,0.12)}
.card.dragging{opacity:0.5}
.drop-over{outline:3px dashed rgba(43,138,239,0.18);border-radius:6px}
.start-button{background:var(--accent);color:#fff;border:none;padding:8px 10px;border-radius:6px;cursor:pointer}

.reset-button{background:#ef4444;color:#fff;border:none;padding:8px 10px;border-radius:6px;cursor:pointer}
.reset-button:hover{opacity:0.92}

.card-header{display:flex;justify-content:space-between;align-items:center}
.card-title{font-weight:700;font-size:14px;color:#111}
.card-id{background:rgba(43,138,239,0.08);color:var(--accent);padding:2px 8px;border-radius:999px;font-size:12px}

/* Difficulty indicators */
.indicators{display:flex;flex-direction:column;gap:6px;margin-top:8px}
.indicator{background:rgba(0,0,0,0.03);padding:8px;border-radius:6px;display:flex;justify-content:space-between;align-items:center;cursor:pointer}
.ind-label{font-size:12px;color:#4b5563}
.ind-value{font-weight:700;color:var(--accent);font-size:13px;background:rgba(43,138,239,0.06);padding:4px 10px;border-radius:999px}
/* Indicator finished state */
.indicator.indicator-done{background:rgba(22,163,74,0.12);outline:2px solid rgba(22,163,74,0.25)}
.indicator.indicator-done .ind-value{background:rgba(22,163,74,0.18);color:#065f46}

/* If using the inline wrapper above, it will add spacing */
/* Example: <div style="margin-top:8px"><button id="startButton" class="start-button">Iniciar</button></div> */
@media (max-width:800px){.column{min-width:200px}}

/* Roles area */
.roles-area{
  display:flex;
  gap:12px;
  align-items:center;
  flex-wrap:wrap;
}


.card .role{
  aspect-ratio:auto;
  width:80px;
  height:auto;
  min-height:42px;
  margin-top:8px;
  padding:4px 6px;
}

.role{
  min-width:70px;
  max-width:100px;
  aspect-ratio:auto;

  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:4px;

  padding:6px 8px;
  border-radius:8px;
  font-weight:700;
  font-size:11px;
  cursor:grab;
  user-select:none;

  transition:transform 0.15s ease;
}

/* Responsive adjustments */
@media (max-width:800px){
  .status-bar{
    flex-direction:column;
    align-items:flex-start;
  }
  
  .status-left{
    flex-direction:column;
    width:100%;
  }
  
  .roles-area{
    width:100%;
    justify-content:center;
  }
  
  .role{
    min-width:70px;
    padding:6px 8px;
  }
}

.role:hover{
  transform:scale(1.03);
}

.role[data-role^="Analista"]{background:#2563eb;color:#f1f5f9}
.role[data-role^="Programador"]{background:#16a34a;color:#f1f5f9}
.role[data-role^="QA/Tester"]{background:#f59e0b;color:#111}
.role.role-attached{opacity:0.95;cursor:grab;border:2px solid rgba(0,0,0,0.06)}
.role.dragging-role{opacity:0.6}

/* Next column button */
.next-column-btn{
  margin-top:8px;
  padding:6px 10px;
  background:#2b8aef;
  color:#fff;
  border:none;
  border-radius:6px;
  cursor:pointer;
  font-size:12px;
  font-weight:600;
  width:100%;
  transition:background 0.2s ease;
}
.next-column-btn:hover{
  background:#1d6ac7;
}

/* Role stats container */
.role-stats{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:3px;
  width:100%;
}

/* Main stat (EficiÃªncia) */
.role-stat-main{
  font-size:18px;
  font-weight:800;
  line-height:1;
  text-align:center;
}

/* Secondary stats row (Felicidade + Talento) */
.role-stat-secondary{
  display:flex;
  gap:8px;
  font-size:13px;
  font-weight:600;
  justify-content:center;
  align-items:center;
}

.role-stat-item{
  display:inline-flex;
  align-items:center;
  gap:2px;
  line-height:1;
}

/* Compact view when role is inside a card */
.card .role{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:2px;
}

.card .role .role-name{
  font-size:10px;
  font-weight:700;
  margin:0;
  white-space:nowrap;
  text-overflow:ellipsis;
  text-align:center;
  opacity:0.85;
}

.card .role .role-stat-main{
  font-size:16px;
}

.card .role .role-stat-secondary{
  font-size:11px;
  gap:6px;
}

.role-name{
  font-size:12px;
  font-weight:700;
  text-align:center;
  margin-bottom:2px;
}

/* Role title wrapper for title + remove button */
.role-title-wrapper{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:4px;
  width:100%;
  position:relative;
}

/* Remove button for attached roles */
.role-remove-btn{
  background:rgba(239,68,68,0.9);
  color:#fff;
  border:none;
  border-radius:50%;
  width:18px;
  height:18px;
  font-size:14px;
  line-height:1;
  cursor:pointer;
  display:none;
  align-items:center;
  justify-content:center;
  padding:0;
  flex-shrink:0;
  transition:all 0.15s ease;
  font-weight:bold;
}

/* Show button only when role is attached */
.role[data-attached="true"] .role-remove-btn,
.role.role-attached .role-remove-btn{
  display:flex;
}

.role-remove-btn:hover{
  background:#dc2626;
  transform:scale(1.1);
}

.role-remove-btn:active{
  transform:scale(0.95);
}

/* Ensure button is visible when role is in card */
.card .role .role-title-wrapper{
  margin-bottom:2px;
}

/* Game layout */
.game-layout{
  width:100vw;
  height:100vh;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

/* Top controls (Start/Reset) under the title */
.top-controls{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  align-items:center;
  margin:8px 0 12px 0;
}

/* Status bar for day counter and future metrics */
.status-bar{
  background:#f7f7fa;
  border:1px solid rgba(0,0,0,0.05);
  border-radius:10px;
  padding:10px 12px;
  margin:0 0 12px 0;
  display:flex;
  gap:16px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:space-between;
  box-shadow:0 1px 2px rgba(0,0,0,0.03);
}

.status-left{
  display:flex;
  gap:16px;
  align-items:center;
  flex-wrap:wrap;
}

.status-metrics{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.metric{display:flex;flex-direction:column;gap:4px;min-width:140px}
.metric-label{font-size:12px;color:#4b5563;font-weight:600}
.metric-value{font-size:20px;font-weight:800;color:#111}

.status-actions{display:flex;gap:8px;flex-wrap:wrap}
.metric-button{
  border:1px dashed rgba(0,0,0,0.15);
  background:#fff;
  color:#6b7280;
  padding:8px 10px;
  border-radius:8px;
  cursor:not-allowed;
  font-weight:600;
}
.metric-button:disabled{opacity:0.8}

/* Ensure the board flexes to fill remaining height inside container */
.container .board{
  flex:1;
  height:auto;
  min-height:0;
}

/* Main content ensures board fills properly */
.main-content .board{
  flex:1;
  min-width:0;
}

/* ============================================
   OFFICE PANEL - Pixel Art Workspace
   ============================================ */

/* Office Panel Container */
.office-panel{
  width:280px;
  min-width:280px;
  max-width:280px;
  height:100%;
  display:flex;
  flex-direction:column;
  background:#2a2a3e;
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 4px 12px rgba(0,0,0,0.2);
  position:relative;
}

/* Office Header */
.office-header{
  background:linear-gradient(180deg, #3a3a52 0%, #2a2a3e 100%);
  padding:12px 16px;
  border-bottom:2px solid #1a1a2e;
}

.office-title{
  margin:0;
  font-size:16px;
  font-weight:700;
  color:#e0e0ff;
  text-align:center;
  text-shadow:0 1px 2px rgba(0,0,0,0.5);
}

/* Office Viewport - Main visual area */
.office-viewport{
  flex:1;
  position:relative;
  background:linear-gradient(180deg, #4a4a6a 0%, #3a3a52 50%, #2a2a3e 100%);
  overflow:hidden;
  image-rendering:pixelated;
  image-rendering:-moz-crisp-edges;
  image-rendering:crisp-edges;
}

/* Office Background Layers */
.office-background{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
}

.office-wall{
  flex:1;
  background:repeating-linear-gradient(
    90deg,
    #5a5a7a 0px,
    #5a5a7a 20px,
    #6a6a8a 20px,
    #6a6a8a 40px
  );
  border-bottom:3px solid #3a3a52;
}

.office-floor{
  height:40%;
  background:repeating-linear-gradient(
    45deg,
    #4a4a6a 0px,
    #4a4a6a 15px,
    #3a3a52 15px,
    #3a3a52 30px
  );
  border-top:2px solid #2a2a3e;
}

/* Characters Container */
.office-characters{
  position:absolute;
  bottom:30%;
  left:0;
  right:0;
  display:flex;
  justify-content:space-around;
  align-items:flex-end;
  padding:0 20px;
  z-index:10;
}

/* Character Base */
.character{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  transition:transform 0.3s ease;
}

.character:hover{
  transform:translateY(-4px);
}

/* Character Sprite - Placeholder pixel art */
.character-sprite{
  width:48px;
  height:48px;
  border-radius:4px;
  box-shadow:0 4px 8px rgba(0,0,0,0.3);
  position:relative;
  overflow:hidden;
}

/* Idle animation placeholder */
.sprite-idle{
  animation:idle-bounce 2s ease-in-out infinite;
}

@keyframes idle-bounce{
  0%, 100%{ transform:translateY(0); }
  50%{ transform:translateY(-2px); }
}

/* Character-specific colors (placeholder pixel art style) */
.character-analyst .character-sprite{
  background:linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
  border:2px solid #1e3a8a;
}

.character-developer .character-sprite{
  background:linear-gradient(135deg, #16a34a 0%, #15803d 100%);
  border:2px solid #166534;
}

.character-tester .character-sprite{
  background:linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  border:2px solid #b45309;
}

/* Pixel art facial feature placeholders */
.character-sprite::before{
  content:'';
  position:absolute;
  width:6px;
  height:6px;
  background:#fff;
  border-radius:50%;
  top:16px;
  left:14px;
  box-shadow:12px 0 0 #fff;
}

.character-sprite::after{
  content:'';
  position:absolute;
  width:16px;
  height:4px;
  background:#fff;
  border-radius:2px;
  bottom:12px;
  left:50%;
  transform:translateX(-50%);
  opacity:0.8;
}

/* Character Labels */
.character-label{
  font-size:11px;
  font-weight:600;
  color:#e0e0ff;
  text-shadow:0 1px 2px rgba(0,0,0,0.5);
  background:rgba(0,0,0,0.3);
  padding:3px 8px;
  border-radius:4px;
}

/* Office Items Container (furniture, decorations) */
.office-items{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:5;
}

.office-item{
  position:absolute;
  width:32px;
  height:32px;
  border-radius:4px;
  box-shadow:0 2px 4px rgba(0,0,0,0.3);
}

/* Item placeholders */
.item-desk{
  background:linear-gradient(135deg, #8b4513 0%, #654321 100%);
  border:2px solid #4a2c0f;
  width:48px;
  height:40px;
}

.item-plant{
  background:linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
  border:2px solid #15803d;
  width:28px;
  height:36px;
  border-radius:50% 50% 20% 20%;
}

/* Office Footer */
.office-footer{
  background:linear-gradient(180deg, #2a2a3e 0%, #1a1a2e 100%);
  padding:10px 16px;
  border-top:2px solid #3a3a52;
}

.office-status{
  display:flex;
  align-items:center;
  gap:8px;
  justify-content:center;
}

.status-icon{
  font-size:16px;
  filter:drop-shadow(0 1px 2px rgba(0,0,0,0.5));
}

.status-text{
  font-size:12px;
  color:#b0b0d0;
  font-weight:500;
}

/* Extensibility classes for future features */
.character[data-state="working"]{
  /* Future: animation when character is working on a card */
}

.character[data-state="happy"]{
  /* Future: visual feedback for happiness stat */
}

.character[data-state="tired"]{
  /* Future: visual feedback for low efficiency */
}

.office-item[data-purchased="true"]{
  /* Future: mark items as purchased */
  opacity:1;
}

.office-item[data-purchased="false"]{
  /* Future: mark items as not yet purchased */
  opacity:0.4;
  filter:grayscale(1);
}

/* Responsive adjustments for office panel */
@media (max-width:1200px){
  .office-panel{
    width:240px;
    min-width:240px;
    max-width:240px;
  }
  
  .character-sprite{
    width:40px;
    height:40px;
  }
}